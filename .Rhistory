#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
) +
metR::geom_contour2(data = gebco.pemba.tb, aes(x = x, y = y, z = depth, label = ..label..), breaks = c(-200, -800), skip = 0)+
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
labs(fill = "Bathymetry & elevation (m)") +
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
) +
metR::geom_contour2(data = gebco.pemba.tb, aes(x = x, y = y, z = depth, label = ..level..), breaks = c(-200, -800), skip = 0)+
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
labs(fill = "Bathymetry & elevation (m)") +
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")
#| warning: false
#| message: false
#|
ggplot(data = gebco.pemba) +
geom_spatraster(show.legend = TRUE)+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
) +
# metR::geom_contour2(data = gebco.pemba.tb, aes(x = x, y = y, z = depth, label = ..level..), breaks = c(-200, -800), skip = 0)+
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
labs(fill = "Bathymetry & elevation (m)") +
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
) +
# metR::geom_contour2(data = gebco.pemba.tb, aes(x = x, y = y, z = depth, label = ..level..), breaks = c(-200, -800), skip = 0)+
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
labs(fill = "Bathymetry & elevation (m)") +
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, show.legend = TRUE, breaks = -200)+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
) +
# metR::geom_contour2(data = gebco.pemba.tb, aes(x = x, y = y, z = depth, label = ..level..), breaks = c(-200, -800), skip = 0)+
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
labs(fill = "Bathymetry & elevation (m)") +
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200,-800))+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
) +
# metR::geom_contour2(data = gebco.pemba.tb, aes(x = x, y = y, z = depth, label = ..level..), breaks = c(-200, -800), skip = 0)+
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
labs(fill = "Bathymetry & elevation (m)") +
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200))+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
) +
# metR::geom_contour2(data = gebco.pemba.tb, aes(x = x, y = y, z = depth, label = ..level..), breaks = c(-200, -800), skip = 0)+
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
labs(fill = "Bathymetry & elevation (m)") +
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200)) +
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
)
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200)) +
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
title = "Bathymetry and Elevation",
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
)
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200)) +
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
title = "Bathymetry and Elevation",
title.vjust = .5,
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
)
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200)) +
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
title = "Bathymetry and Elevation",
title.hjust = .5,
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 20,
barwidth = .40)
)
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200)) +
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
title = "Bathymetry and Elevation",
title.hjust = .5,
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 10,
barwidth = .40)
)
#| warning: false
#| message: false
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200)) +
ggspatial::layer_spatial(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
title = "Bathymetry and Elevation",
title.hjust = .5,
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 10,
barwidth = .60)
)
citation(terra)
citation("terra")
citation("tidyterra")
gebco
0.004166667*110*1000
gebco
gebco.pemba = gebco  %>%
terra::ext(38,41,-6.2,-3.8) %>%
terra::crop()
terra::ext(38,41,-6.2,-3.8)
gebco  %>%
terra::ext(38,41,-6.2,-3.8)
gebco.pemba = gebco  %>%
terra::crop(terra::ext(38,41,-6.2,-3.8))
gebco.pemba
#| warning: false
#| message: false
#| label: fig-fig4
#| fig-cap: Bathymetry and elevation of the Pemba Channel
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200)) +
geom_spatvector(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
title = "Bathymetry and Elevation",
title.hjust = .5,
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 10,
barwidth = .60)
)
pemba.ext = terra::ext(38,41,-6.2,-3.8)
gebco.pemba = gebco  %>%
terra::crop(pemba.ext)
gebco.pemba
pemba.ext = terra::ext(38,41,-6.2,-3.8)
gebco.pemba = terra::crop(x = gebco, y = pemba.ext)
gebco.pemba
#| warning: false
#| message: false
#| label: fig-fig4
#| fig-cap: Bathymetry and elevation of the Pemba Channel. Solid black line is an isobar contour of 200 meter
#|
ggplot() +
geom_spatraster(data = gebco.pemba, show.legend = TRUE)+
geom_spatraster_contour(data = gebco.pemba, breaks = c(-200), linewidth = 2) +
geom_spatvector(data = africa, fill = NA, color = "black")+
geom_sf_text(data = africa, aes(label = str_to_upper(CNTRY_NAME)),
size = 2.3, check_overlap = TRUE)+
coord_sf(xlim = c(38.9,40), ylim = c(-5.6,-4.1))+
theme_bw() +
theme(legend.position = "right", axis.title = element_blank())+
ggspatial::annotation_north_arrow(location = "tr",
height = unit(1.5, "cm"),
width = unit(1, "cm"),
pad_x = unit(0.25, "cm"),
pad_y = unit(0.25, "cm"),
rotation = NULL)+
ggspatial::annotation_scale(location = "bl")+
scale_fill_hypso_tint_c(
palette = "gmt_globe",
labels = scales::label_number(big.mark = ","),
limits = c(-2000,2000),
breaks = seq(-3000,3000,500),
guide = guide_colorbar(
title = "Bathymetry and Elevation",
title.hjust = .5,
direction = "vertical",
title.position = "right",
title.theme = element_text(angle = 90),
barheight = 10,
barwidth = .60)
)
